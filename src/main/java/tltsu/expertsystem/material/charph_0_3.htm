<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="ru">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=windows-1251" />


<link href="http://popup.osp.ru/style.css" rel="stylesheet" type="text/css">
<script type="text/javascript" src="http://popup.osp.ru/tooltip_js_cfg/tooltip-core.js"></script>
<script type="text/javascript" src="http://popup.osp.ru/tooltip_js_cfg/tooltip-dynamic.js"></script>
<script type="text/javascript">document.write('<script type="text/javascript" src="http://popup.osp.ru/tooltip_cfg/tooltip-cfg-16.js?rnd=' + Math.round(Math.random() * 100000) + '"><\/script>')</script>


<title>INTUIT.ru: Курс: Объектное ..: Лекция №1: Классы</title>

<meta name="description" content="INTUIT.ru: учебный курс: Объектное программирование в классах на С# 3.0. Лекция: Классы"/>

<meta name="keywords" content="учебный курс Объектное программирование в классах на С# 3.0 Классы
INTUIT"/> 

<script type="text/javascript" src="/ssi/menu.js?2009-06-04"></script>
<link rel="shortcut icon" href="/favicon.ico" />

<meta http-equiv="Pragma" content="no-cache" />
<meta http-equiv="Cache-Control" content="no-cache, must-revalidate" />
<meta name="Pragma" content="no-cache" />
<meta name="Cache-Control" content="no-cache" />
<link href="/ssi/course.css" type="text/css" rel="stylesheet" />
<script type="text/javascript" src="/ssi/course.js"></script>

<link href="/ssi/lecture.css" type="text/css" rel="stylesheet" />
<script type="text/javascript">var lid=6416</script>
<script type="text/javascript" src="/ssi/prototype.js"></script>
<script type="text/javascript" src="/ssi/lecture_lib.js"></script>

<link href="/ssi/int4/history/history.css" type="text/css" rel="stylesheet" />
<script type="text/javascript" src="/ssi/AC_OETags.js" language="javascript"></script>
<script type="text/javascript" src="/ssi/video2.js" language="javascript"></script>
<script type="text/javascript" src="/ssi/video4x.js" language="javascript"></script>
<script type="text/javascript" src="/ssi/int4/history/history.js" language="javascript"></script>
<script type="text/javascript" src="/ssi/int4/jquery-1.4.2.js" language="javascript"></script>

<script type="text/javascript" src="/ssi/last_qa.js"></script>
<link href="/ssi/style.css" type="text/css" rel="stylesheet" />
</head>
<body bgcolor="white">
<!---->
<!--header-->
<!---->
<div class="topbanner">
<div style="text-align: center;">
<div id="banner-top" style="display: none;"></div>

<script type="text/javascript">
// <!--
	var body = document.getElementById('body');
	if(body) {
		body.topmargin = 0;
		body.marginheight = 0;
		body.style.topmargin='0';
		body.style.marginTop = 0;
	}
// -->
</script>


<!---->
</div></div>


<!-- topbox -->
<table width="100%" border="0" cellspacing="0" cellpadding="0" align="center" bgcolor="white">
<tr>
<td class="border">

<!-- header:logo, menu -->
<table border="0" cellpadding="6" cellspacing="0" width="100%">

<tr valign="top">
<td align="left" width="33%"><a href="/"><img src="/img/logo.gif" border="0" width="285" height="52" alt="Интернет Университет информационных технологий"></a></td>

<td width="34%"></td>

<td valign=top align=right class="epigraph">Твой путь к знаниям</a></td>
</tr>

</table>
<!-- //header:logo, menu -->
<!-- menu -->
<table border="0" cellpadding="" cellspacing="0" width="100%" bgcolor="#ff9900" background="/img/bgtopmenu2.gif">
<tr>
<td align="left" height="24" class="topmenu"><form action="/search" name="ya_search">
<input name="text" type="text" value="" style="margin-left:3px; margin-top:3px;">&nbsp;&nbsp;<a href=# onClick="document.ya_search.submit();">Искать!</a></td>
</form></td>
<td align="right" height="24" class="topmenu">
<a 
	id="menu_courses"
	onMouseOver="return menu_mov('courses');" 
	onMouseOut="return menu_mot('courses');" 
	href="/courses.html">Курсы</a> 
|
<a 
	id="menu_education"
	onMouseOver="return menu_mov('education');" 
	onMouseOut="return menu_mot('education');" 
	href="/speciality/">Обучение</a> 
|
<a 
	id="menu_school"
	onMouseOver="return menu_mov('school');" 
	onMouseOut="return menu_mot('school');" 
	href="/catalog/school/">Школа</a> 
|
<a 
	id="menu_shop"
	onMouseOver="return menu_mov('shop');" 
	onMouseOut="return menu_mot('shop');" 
	href="/shop/">Магазин</a> 
|
<a 
	id="menu_communication"
	onMouseOver="return menu_mov('communication');" 
	onMouseOut="return menu_mot('communication');" 
	href="http://forum.intuit.ru/">Общение</a> 
|


<a 
	id="menu_news"
	onMouseOver="return menu_mov('news');" 
	onMouseOut="return menu_mot('news');" 
	href="/news/">Новости</a>  

|
<a 
	id="menu_help"
	onMouseOver="return menu_mov('help');" 
	onMouseOut="return menu_mot('help');" 
	href="/help/">Помощь</a> 


</td></tr>
<tr>
<td align="right" colspan="2" 
	onMouseOver="return menu2_mov();" 
	onMouseOut="return menu2_mot();" 
	class="menu2">
<div 
	class="menu_collections"
	id="cmenu_courses">
<div class="menu_polosa">
<a href="/courses.html">все</a>
| 
<a href="/video/">видеокурсы</a>
| 
<a href="/rating_courses/?sort=start">новые</a>
| 
<a href="/rating_courses/?sort=mstudents">популярные</a>
| 
<a href="/video/tree/video/speech/">доклады</a>
<div class="delim">||</div>
<a href="/underway_courses.html">курсы в разработке</a>
| 
<a href="/author_list.html">авторы</a>
</div>
</div>

<div 
	class="menu_collections"
	id="cmenu_shop">
<div class="menu_polosa">
<a href="/shop/books/">книги</a>
| 
<a href="/shop/soft/">курсы на CD</a>
| 
<a href="/shop/video/">видеокурcы на DVD</a>
| 
<a href="/shop/books/sale/">распродажа</a>
| 
<a href="/shop/books/novelty/">новинки</a>
<div class="delim">||</div>
<a href="/user/cart/">корзина</a>
| 
<a href="/user/account/">личный счет</a> 
|
<a href="/shop/order/history.xhtml">заказы</a>
| 
<a href="/user.html">настройка</a>
</div>
</div>


<div 
	class="menu_collections"
	id="cmenu_education">
<div class="menu_polosa">

<a href="/groups/catalog/">учебные группы</a>
| 
<a href="/speciality/">учебные программы</a>
<div class="delim">||</div> 
<a href="http://hpcu.ru" target="_blank">HPCU.ru: Суперкомпьютерные технологии</a>
|
<a target="_blank" href="http://www.aspiranttest.com/">АспирантТест</a>
|
<a target="_blank" href="http://www.diofant.ru/" target="_blank">Diofant.ru</a>
</div>
</div>

<div 
	class="menu_collections"
	id="cmenu_school">
<div class="menu_polosa">
<a href="/catalog/school/">курсы</a>
| 
<a href="/catalog/school/school/">видеокурсы</a>
| 
<a href="/shop/video/school/">видеокурсы на DVD</a>
</div>
</div>


<div 
	class="menu_collections"
	id="cmenu_communication">
<div class="menu_polosa">
<a href="http://forum.intuit.ru/">форум</a>
| 
<a href="http://ask.intuit.ru/">вопросы и ответы</a>
| 
<a href="/help/askform.xhtml">задать вопрос</a>
<div class="delim">||</div>
<a href="/rating_students/">рейтинг студентов</a>
</div>
</div>


<div 
	class="menu_collections"
	id="cmenu_help">
<div class="menu_polosa">
<a href="/help/about.html">о проекте</a>
| 
<a href="/help/learning.html">об учебе</a>
| 
<a href="/help/how.html">как учиться</a>
| 
<a href="/help/pay.html">платное обучение</a>
| 
<a href="/help/user.html">настройки</a>
| 
<a href="/help/orders.html">магазин</a>
| 
<a href="/help/groups.html">группы</a>
</div>
</div>

<div
	class="menu_collections"
	id="cmenu_news">
<div class="menu_polosa">
<a href="/news/">лента новостей</a>
|
<a 
	title="RSS" href="/news.rss" 
	target="_blank"><img class="rss" border="0" width="12" height="12" src="/img/rss.gif">RSS</a>
| 
<a href="/job/">работа</a>
| 
<a href="http://www.intuit.ru/user/subscribe/">подписка</a>
<div class="delim">||</div>
<a target="_blank" href="http://www.osp.ru/">OSP.ru</a>
| 
<a target="_blank" href="http://tv.osp.ru/">видеоновости</a>
</div>
</div>


<div 
	class="menu_collections"
	id="cmenu_default">
<div class="menu_polosa">
&nbsp;
</div>
</div>

</td>
</tr>
</table>
<script>
	menu_reset();
</script>
<!-- //menu -->
</td>
</tr>
</table>
<!-- //topbox -->
<table border="0" cellpadding="0" cellspacing="0" width="100%">
<tr>
<td align="center" class="menu">
<table border=0 cellpadding=1 cellspacing=0 width=100% class="orang_border"><tr><td>
<table border=0 cellpadding=4 cellspacing=0 width=100% bgcolor="#ffffcc">
<tr align=center>
<td width="100%" class="rtxt">
<!--
<a href="http://www.intuit.ru/department/graphics/bapscs5/"><b><font color="#990000">Очный курс по Photoshop в Москве</font></b></a> 
||
<a href="http://www.intuit.ru/job/"><b><font color="#000099">Работа в ИНТУИТ: специалисты по Java, Python</font></b></a> 
||
-->
<a href="http://www.intuit.ru/ms-grants/"><b><font color="#990000">НОВЫЙ КОНКУРС ГРАНТОВ ОТ MICROSOFT</font></b></a> 
|| 
<a href="http://www.intuit.ru/konkurs/"><font color="#009900">Приглашаем авторов курсов</font></a> 
|| 
<a href="http://www.intuit.ru/shop/other/"><font color="#990000">ВСЕ ВИДЕОКУРСЫ</font> на одном диске</a> 
<!--
||
<a href="http://www.intuit.ru/ms-grants/"><b><font color="#990000">НОВЫЙ КОНКУРС ГРАНТОВ ОТ MICROSOFT</font></b></a> 
 и <a href="/shop/product-2493478.html"><font color="#990000">381 КУРС</font> на DVD</a>
-->
</td>
</tr></table>
</td></tr></table>
</td>
</tr>
</table>

<br>

<!--/header-->
<!---->
<!--/menu-->


<table border="0" cellpadding="0" cellspacing="0" width="100%" height="73">
<tr valign="top">
<td width="6"><img src="/img/empty.gif" height="1" width="6"></td>
<td>
<div class="course_content">


<span 
	title="Спонсорская поддержка проекта"
	class="course_title_right">
<a 
	class="course_title_right" 
	href="/user/account/sponsor.xhtml"><img 
		width="15"
		height="17"
	src="/img/rubm.gif"></a>
<a 
	class="course_title_right" 
	href="/user/account/sponsor.xhtml">поддержка курса</a></span>


<a href="/goto/course/toopincsharp30/" class="course_title">Объектное программирование в классах на С# 3.0</a>


<br>







<span class="course_lecture_info_block"
		style="cursor: pointer; cursor: hand">



<span
	style="display:none;"
	onClick="course_show_info(false)"

	title="скрыть информацию о курсе"
	id="lecture_show_info_off">
<span class="course_lecture_info">информация</span>
<span style="font-weight: bold;">
[<span 
	style="font-weight: 900;"
	onMouseOver="this.style.color='blue'"
	onMouseOut="this.style.color='#000000'"

>-</span>]</span>

</span>



<span
	onClick="course_show_info(true)"

	title="показать информацию о курсе"
	id="lecture_show_info_on">
<span class="course_lecture_info">информация</span>
<span style="font-weight: bold;">
[<span 
	style="font-weight: 900;"
	onMouseOver="this.style.color='blue'"
	onMouseOut="this.style.color='#000000'"

>+</span>]</span>

</span>


</span>


Автор:

<a class="course_author"  
	title="Биллиг Владимир Арнольдович"
	href="/lector/39.html">В.А. Биллиг</a>







<br>







<div 
	id="course_stat" 
	style="display: none"
>
<hr class="course_hr">
<table border="0" cellpadding="2" cellspacing="2" width="100%" ><tr>

<td valign="BOTTOM">
<a 
	class="course_stat"
	onClick="window.open(this.href,'', 'toolbars=no,status=no,location=no,resizable=yes,scrollbars=no');return false;"
	href="/help/popup/course_info.html">?</a>
</td>
<td valign="top" class="course_stat">
Уровень: <span id="course_level" class="course_stat_data">для специалистов</span>
||
Статус: <span id="course_status" class="course_stat_data">бесплатный</span>
||
Опубликован: <span id="course_pub_time" class="course_stat_data">02.12.2009</span>

<br>
<span title="оценка курса выпускниками">Рейтинг: <span id="course_rating" class="course_stat_data">4.52</span></span>
||
<span title="количество студентов за последний месяц">Популярность: <span id="course_pop" class="course_stat_data">31</span></span>
||
Студентов: <span class="course_stat_data" id="course_stud1" title="всего студентов">991</span>/<span class="course_stat_data" id="course_stud2"  title="всего выпускников">83</span>

</td>

</tr></table>
</div>



<hr class="course_hr">

<div class="course_menu">

Студентам: 

<span class="course_offline">
<a 
	title="Автономная система для изучения курса без подключения к интернету, включает тексты лекций и все тесты."
	href="/shop/courses/?media=download&expand_selected=1&courses=604">версия для локальной работы</a>
</span>







|
<a href="/department/pl/toopincsharp30/lit.html" class="course_menu_item">литература</a>



|
<a href="/shop/books/departments/pl/toopincsharp30/" class="course_menu_item">учебники</a>


|
<a href="/department/pl/toopincsharp30/forum/" class="course_menu_item">форум</a>

|
<a href="/department/pl/toopincsharp30/class/opinions/" class="course_menu_item">мнения</a>
|
<a href="/department/pl/toopincsharp30/class/classmates/" class="course_menu_item">однокурсники</a>
|
<a href="/department/pl/toopincsharp30/class/rating/" class="course_menu_item">рейтинг</a>

</div>
<hr class="course_hr">



<div class="course_menu_lection">



<span class="course_title_right">


<div class="name">
<div class="left">&nbsp;</div>
<div class="text"><a 
	href="/department/pl/toopincsharp30/class/examination/">экзамен</a></div>
<div class="right">&nbsp;</div>
</div>

<div class="name">
<div class="left">&nbsp;</div>
<div class="text"><a 
	href="/department/pl/toopincsharp30/class/examination_extern/">экстернат</a></div>
<div class="right">&nbsp;</div>
</div>


<div class="name">
<div class="left">&nbsp;</div>
<div class="text"><a 
	title="образец диплома"
	onClick="return popup_diploma(this)" 
	target="_blank" 
	href="/department/pl/toopincsharp30/diplom/ru/">диплом</a></div>
<div class="right">&nbsp;</div>
</div>

</span>










<div class="menu_lections">

<div class="name">
<div class="left">&nbsp;</div>
<div class="text">Лекции:</div>
<div class="right">&nbsp;</div>
</div>


<div class="lections">
<ul>

<li title="Классы"><a  href="../1/" class="active">1</a></li>


<li title="Структуры"><a href="../2/" class="normal">2</a></li>

<li title="Перечисления"><a href="../3/" class="normal">3</a></li>

<li title="Отношения между классами. Клиенты и наследники"><a href="../4/" class="normal">4</a></li>

<li title="Интерфейсы. Множественное наследование"><a href="../5/" class="normal">5</a></li>

<li title="Делегаты. Функциональный тип данных"><a href="../6/" class="normal">6</a></li>

<li title="Классы с событиями"><a href="../7/" class="normal">7</a></li>

<li title="Универсальность. Классы с родовыми параметрами"><a href="../8/" class="normal">8</a></li>

<li title="Декларативность. Атрибуты и теги"><a href="../9/" class="normal">9</a></li>

<li title="Корректность и устойчивость программных систем"><a href="../10/" class="normal">10</a></li>

</ul>
    <div class="clear">&nbsp;</div>
</div>
</div>




</div>


</div>


	<!-- content -->
	<table border="0" cellpadding="0" cellspacing="0" width="100%">



<tr><td height="8" colspan=2><img src="/img/empty.gif" width="1" height="8"></td></tr>
</td></tr>





<tr>
<td colspan="2" align=left>
<div class="lecture_title">1. Лекция:
 <a href="../1/">Классы</a></div>
</td>
</tr>

<tr>

<td width="75%" align=left><font class="rtitle">Страницы:</font>
<a class="rtitle" href="2.html">&laquo;</a> <font class="stitle">|</font>


<a class="rtitle" href="1.html">1</a>
<font class="stitle">|</font>


<a class="rtitle" href="2.html">2</a>
<font class="stitle">|</font>

<font class="rtitle">3</font>

<font class="stitle">|</font>


<a class="rtitle" href="4.html">4</a>
<font class="stitle">|</font>


<a class="rtitle" href="5.html">5</a>
<font class="stitle">|</font>


<a class="rtitle" href="test/">вопросы</a> <font class="stitle">|</font> 
<a class="rtitle" href="4.html"><b>&raquo;</b></a>
</td>
<td align=right>

<a href="print/" class="rtitle" target="_blank">для печати и PDA</a>


</td>

</tr>




	<tr><td height="2" colspan=2><img src="/img/empty.gif" width="1" height="2"></td></tr>

<tr><td align="left" class="lecture_pl1" colspan="2">
<div class="lecture_write_to_us">Если Вы заметили ошибку - <a class="llecture_red" target="_blank" href="/help/askform.xhtml?course=604&url=http://www.intuit.ru/department/pl/toopincsharp30/1/3.html">сообщите нам</a>
или выделите ее и нажмите Ctrl+Enter</div>
</td></tr>


<tr><td class="lecture_pl1" colspan="2">
<table border="0" cellpadding="0" cellspacing="0" width="100%">
<tr id="menu_lecture">
<td><div id="la_indicator" style="display:none;" /></td>
<td>
<div id="comments_nav" >
<a id="comments_toggle" style="display:none;" class="comments_nav" href="javascript:toggle_write_to_us();_toggleComments();"> Включить комментарии</a>
<span id="comments_configure" style="display:none;">||&nbsp;<a class="comments_nav" href="javascript:_configureComments()">Настройки</a></span>
<span id="comments_moderate" style="display:none;" >||&nbsp;<a class="comments_nav" href="javascript:_moderateComments()">Модерация</a></span>
<span id="comments_help" style="display:none;">||&nbsp;<a class="comments_nav" href="javascript:_helpComments()">Помощь</a></span>
</div>
</td>
</tr>
</table>

</td></tr>
	<tr><td height="8" colspan=2><img src="/img/empty.gif" width="1" height="8"></td></tr>

	<tr><td colspan=2>



<div class="_ga1_on_">
<div id="lecture_container">
<div id="lecture_body">

<!---->
<div class="bannere240x400">
<div id="banner-240x400" style="display: none;"></div>

</div>
<!---->






    <a  name="sect18"></a><h5 >Операции</h5><p  id="id_209">Еще одним частным случаем являются методы, задающие над объектами классами <b>бинарную</b>  или <b>унарную операцию</b>. Введение в класс таких методов позволяет строить выражения, аналогичные арифметическим и булевым выражениям с обычно применяемыми знаками операций и сохранением приоритетов операций. Синтаксис задания таких методов и детали применения опишу чуть позже при проектировании класса рациональных чисел <span class="texample">Rational</span>, где введение операций вполне оправдано.</p><div  class="lecture_mark" id="mark_209"></div><a  name="sect19"></a><h5 >Конструкторы класса Person</h5><p  id="id_211">Для полноты картины добавим в класс <span class="texample">Person</span>  множество конструкторов класса.</p><div  class="lecture_mark" id="mark_211"></div><div  class="example" id="id_213"><pre>//Конструкторы класса
public Person(){}
public Person( string fam)
{
    this.fam = fam;
}
public Person(string fam, int age)
{
    this.fam = fam; this.age = age;
}
public Person(string fam, int age,
    string health, int zarplata, Status s)
{
    this.fam = fam; this.age = age; status = s;
    this.health = health; salary = zarplata;
}</pre></div><div  class="lecture_mark" id="mark_213"></div><p  id="id_214">Заметьте, правильный стиль требует, чтобы среди конструкторов класса всегда присутствовал конструктор по умолчанию - конструктор без аргументов. В нашем случае тело этого конструктора пусто, поскольку все поля объявлены с инициализацией и конструктору нет смысла изменять эти значения. Часто имена формальных аргументов конструктора совпадают с соответствующими именами полей класса. Поэтому при присваивании полю объекта значения аргумента необходимо уточнить имя поля именем объекта. В данном случае речь идет о текущем объекте, имя которого фиксировано - <span class="texample">this</span>. Обратите внимание, кроме конструктора без аргументов и полного конструктора, заданы конструкторы для частных случаев, когда в момент создания объекта известны только фамилия или фамилия и возраст личности.</p><div  class="lecture_mark" id="mark_214"></div><a  name="sect20"></a><h4 >Класс как модуль</h4><p  id="id_216">В языке C# разрешается объявить класс, который не рассматривается как тип данных и у которого сохраняется единственная роль - роль модуля. Такой класс объявляется с модификатором <span class="texample">static</span>. У такого класса могут быть заданы константы, только статические поля и только статические методы. У него нет конструкторов в обычном смысле этого слова, позволяющих создавать объекты - экземпляры класса. Статический класс не может рассматриваться как тип данных.</p><div  class="lecture_mark" id="mark_216"></div><p  id="id_218">Утверждение о том, что для статического класса не создаются объекты, требует уточнения. Один объект создается. Более того, этот статический объект создается всегда, создается автоматически, не требуя выполнения операции <span class="texample">new</span>, как это делается для динамически создаваемых объектов. Этот объект получает имя, совпадающее с именем класса. Статический объект, рассматриваемый как модуль класса, создается статическим конструктором, который может быть задан явно, но в случае отсутствия явного задания всегда автоматически добавляется к статическому классу. Конструктор этот вызывается неявно, точный момент его вызова не определен, но гарантируется, что он будет вызван еще до того, как над классом будут выполняться какие-либо операции. Статический конструктор работает точно так же, как и обычный конструктор. Полями создаваемого конструктором объекта будут статические поля и константы класса, которые рассматриваются как статические константы, не требующие задания модификатора <span class="texample">static</span>. Информация в полях статического объекта независимо от модификатора доступа открыта для всех статических методов класса, а если эти поля объявлены с модификатором <span class="texample">public</span>, то поля доступны и клиентам класса. Так, например, константы <span class="texample">PI</span>  и <span class="texample">E</span>  из статического класса <span class="texample">Math</span>  доступны всем клиентам класса <span class="texample">Math</span>.</p><div  class="lecture_mark" id="mark_218"></div><p  id="id_226">Содержательно, статический класс - это сервисный класс, предоставляющий свои сервисы клиентам класса. Клиенты не создают объекты статического класса, они все работают с одним статическим объектом - модулем, у которого есть полезные для клиентов методы и поля, хранящие общую для всех информацию. Методы класса <span class="texample">Math</span>  позволяют вычислять математические функции, необходимые всем арифметическим классам, методы класса <span class="texample">Convert</span>  позволяют осуществлять преобразование одного типа данных в другой, не принадлежа ни одному из этих типов.</p><div  class="lecture_mark" id="mark_226"></div><a  name="sect21"></a><h4 >Класс со статическими полями и методами</h4><p  id="id_229">Рассмотрим теперь общую для C# ситуацию, когда класс, представляющий тип данных, объявленный без модификатора <span class="texample">static</span>, имеет как обычные, так и статические поля и методы. Такой класс в полной мере играет обе роли типа данных и модуля. Клиент класса, вызвав обычный конструктор класса, может создать объект класса, содержащий набор обычных полей. Используя этот объект, как цель вызова, можно вызвать обычный метод класса, который и будет работать с информацией, хранимой в полях объекта. Но параллельно с этим динамическим процессом создания объектов класса статический конструктор класса, автоматически вызванный, создаст единственный статический объект с именем класса, и этот объект доступен всем клиентам наравне с создаваемыми ими динамическими объектами.</p><div  class="lecture_mark" id="mark_229"></div><p  id="id_231">Статическим методам класса доступны только статические поля, они работают только со статическим объектом. Обычным методам класса доступны все поля - обычные и статические. Они работают как со статическим объектом, так и с динамическим объектом, задающим цель вызова.</p><div  class="lecture_mark" id="mark_231"></div><p  id="id_232">Независимо от того, какой объект вызвал метод, используются одни и те же <b>статические поля</b>, позволяя методу использовать информацию, созданную другими объектами класса. Статические поля представляют общий информационный пул для всех объектов классов, позволяя извлекать и создавать общую информацию. Например, у класса <span class="texample">Person</span>  может быть статическое поле <span class="texample">message</span>, в котором каждый объект может оставить сообщение для других объектов класса.</p><div  class="lecture_mark" id="mark_232"></div><p  id="id_235">Напомню, что всякий вызов метода в объектных вычислениях имеет вид <span class="texample">x.F(...)</span> ; где <span class="texample">x</span>  - цель вызова. Обычно целью вызова является динамически созданный объект <span class="texample">x</span>, вызывающий обычные методы класса, называемые динамическими или экземплярными методами. В этом случае поля целевого объекта доступны методу и служат глобальным источником информации. Если же необходимо вызвать статический метод (поле), то целью является статический объект, имя которого задается именем класса. Этот объект и его методы доступны и тогда, когда ни один другой динамический объект класса еще не создан.</p><div  class="lecture_mark" id="mark_235"></div><a  name="sect22"></a><h3 >Проектирование класса Rational</h3><p  id="id_239">В заключение этой лекции займемся проектированием класса <span class="texample">Rational</span>, описывающего известный в математике тип данных - рациональные числа. По ходу проектирования будут вводиться новые детали, связанные с описанием класса. Начнем проектирование, как обычно, с задания тэга <span class="texample">summary</span>, описывающего назначение класса, его свойства и поведение. Вот этот текст:</p><div  class="lecture_mark" id="mark_239"></div><div  class="example" id="id_242"><pre>/// &lt;summary&gt;
/// Класс Rational.
/// определяет новый тип данных - рациональные числа и основные
/// операции над ними - сложение, умножение, вычитание и деление.
/// Рациональное число задается парой целых чисел (m,n) и изображается
/// обычно в виде дроби m/n. Число m называется числителем,
/// n - знаменателем. Для каждого рационального числа существует
/// множество его представлений, например, 1/2, 2/4, 3/6, 6/12.
/// Среди всех представлений
/// можно выделить то, в котором числитель и знаменатель взаимно
/// несократимы. Такой представитель будет храниться в полях класса.   
/// &lt;/summary&gt;
public class Rational
{
      // Описание тела класса Rational
}//Rational</pre></div><div  class="lecture_mark" id="mark_242"></div><a  name="sect23"></a><h4 >Свойства класса Rational</h4><p  id="id_243">Рациональное число представимо парой целых чисел - <span class="texample">m</span>  и <span class="texample">n</span>. Они и становятся полями класса. Совершенно естественно сделать эти поля закрытыми. Разумная стратегия доступа к ним - "ни чтения, ни записи", поскольку пользователь не должен знать, как представлено рациональное число в классе, и не должен иметь доступа к составляющим рационального числа. Поэтому для таких закрытых полей не будут определяться методы-свойства. Вот объявление полей и констант класса:</p><div  class="lecture_mark" id="mark_243"></div><div  class="example" id="id_246"><pre>//Поля класса. Числитель и знаменатель рационального числа.
const string NONE_EXIST =
     "Не существует рационального  числа " +
     "со знаменателем, равным нулю!";      
int m,n;</pre></div><div  class="lecture_mark" id="mark_246"></div><a  name="sect24"></a><h4 >Конструкторы класса Rational</h4><p  id="id_247">Зададим два конструктора - конструктор без аргументов, создающий рациональное число 0 и полный конструктор, которому передаются числитель и знаменатель рационального числа.  Чуть позже добавим в класс закрытый конструктор и статический конструктор, позволяющий создать константы нашего класса. Вот определение конструкторов:</p><div  class="lecture_mark" id="mark_247"></div><div  class="example" id="id_248"><pre>//Констукторы класса
/// &lt;summary&gt;
/// Конструктор по умолчанию.
/// Создает рациональный 0 - пару (0/1)
/// &lt;/summary&gt;
public Rational()
{
    m = 0; n = 1;
}
/// &lt;summary&gt;
/// Конструктор класса. Создает рациональное число
/// m/n, эквивалентное a/b, но с взаимно несократимыми
/// числителем и знаменателем. 
/// Если b = 0, то выбрасывается исключение, 
/// сообщающее о невозможности создать
/// рациональное число со знаменателем 0
/// &lt;/summary&gt;
/// &lt;param name="a"&gt;числитель&lt;/param&gt;
/// &lt;param name="b"&gt;знаменатель&lt;/param&gt;
public Rational(int a, int b)
{
    if (b == 0) throw new RationalException(NONE_EXIST);
    //приведение знака
    if (b &lt; 0) { b = -b; a = -a; }
    //приведение к несократимой дроби
    int d = Nod(a, b);
    m = a / d; n = b / d;            
}</pre></div><div  class="lecture_mark" id="mark_248"></div><p  id="id_249">Как видите, конструктор класса может быть довольно сложным. В конструкторе с аргументами  проверяется корректность задаваемых аргументов. Если данные заданы корректно, то пара чисел приводится к эквивалентному рациональному числу с несократимыми числителем и знаменателем. По ходу дела вызывается закрытый метод класса, вычисляющий значение <span class="texample">НОД(a,b)</span>  - наибольшего общего делителя чисел <span class="texample">a</span>  и <span class="texample">b</span>.</p><div  class="lecture_mark" id="mark_249"></div><p  id="id_253">При попытке создать рациональное число со знаменателем 0 выбрасывается исключение, представляющее объект класса <span class="texample">RationalException</span>. Это типичная ситуация, когда совместно с проектируемым классом создается и класс исключений, характеризующий исключительные ситуации, которые могут возникнуть при работе клиента с объектами класса. Чуть позже приведу объявление этого класса.</p><div  class="lecture_mark" id="mark_253"></div><a  name="sect25"></a><h4 >Методы класса Rational</h4><p  id="id_255">Если поля класса почти всегда закрываются, чтобы скрыть от пользователя представление данных класса, то методы класса всегда имеют открытую часть - те сервисы (службы), которые класс предоставляет своим клиентам и наследникам. Но не все методы открываются. Большая часть методов класса может быть закрытой, скрывая от клиентов детали реализации, необходимые для внутреннего использования. Заметьте, сокрытие представления и реализации делается не по соображениям утаивания того, как реализована система. Чаще всего, ничто не мешает клиентам ознакомиться с полным текстом класса. Сокрытие делается в интересах самих клиентов. При сопровождении программной системы изменения в ней неизбежны. Клиенты не почувствуют на себе негативные последствия изменений, если они делаются в закрытой части класса. Чем больше закрытая часть класса, тем меньше влияние изменений на клиентов класса.</p><div  class="lecture_mark" id="mark_255"></div><a  name="sect26"></a><h5 >Закрытый метод НОД</h5><p  id="id_256">Метод, вычисляющий наибольший общий делитель пары чисел, понадобится не только конструктору класса, но и всем операциям над рациональными числами. Алгоритм нахождения общего делителя хорошо известен со времен Эвклида. Я приведу программный код метода без особых пояснений:</p><div  class="lecture_mark" id="mark_256"></div><div  class="example" id="id_257"><pre>/// &lt;summary&gt;
/// Закрытый метод класса.
/// Возвращает наибольший общий делитель чисел a,b
/// &lt;/summary&gt;
/// &lt;param name="a"&gt;первое число&lt;/param&gt;
/// &lt;param name="b"&gt;второе число&lt;/param&gt;
/// &lt;returns&gt;НОД(a,b)&lt;/returns&gt;
int Nod(int m, int n)
{
   int p=0;
   m=Math.Abs(m); n =Math.Abs(n);
   do
   {
      p = m%n; m=n; n=p;
   }while (n!=0);
   return(m);
}//Nod</pre></div><div  class="lecture_mark" id="mark_257"></div><a  name="sect27"></a><h5 >Печать рациональных чисел</h5><p  id="id_258">Любой класс содержит метод <span class="texample">ToString</span>, наследованный от родительского класса <span class="texample">object</span>. Переопределим этот метод для класса <span class="texample">Rational</span>  так, чтобы он задавал строковое представление рационального числа в формате <span class="texample">m/n</span>. Тогда печать рациональных чисел ничем не будет отличаться от печати чисел арифметического типа. Вот код метода <span class="texample">ToString</span>  для класса <span class="texample">Rational</span>:</p><div  class="lecture_mark" id="mark_258"></div><div  class="example" id="id_265"><pre>/// &lt;summary&gt;
/// Представление рационального числа 
/// в виде строки
/// &lt;/summary&gt;
/// &lt;returns&gt;строка в формате m/n&lt;/returns&gt;
public override string ToString()
{
    return m + "/" + n;
}</pre></div><div  class="lecture_mark" id="mark_265"></div><a  name="sect28"></a><h5 >Тестирование создания рациональных чисел</h5><p  id="id_266">В классе <span class="texample">Testing</span>, предназначенном для тестирования нашей работы и являющегося клиентом класса <span class="texample">Rational</span>, создадим процедуру, позволяющую проверить корректность создания рациональных чисел. Вот эта процедура:</p><div  class="lecture_mark" id="mark_266"></div><div  class="example" id="id_269"><pre>public void TestCreateRational()
{
    try
    {                 
         Rational r1 = new Rational(-5, -25);
         Console.WriteLine("r1 = " + r1.ToString());
         Rational r2 = new Rational();
         Console.WriteLine("r2 = " + r2.ToString());
         Rational r3 = new Rational(4, -8);
         Console.WriteLine("r3 = " + r3.ToString());  
         Rational r4 = new Rational(2, 6); 
         Console.WriteLine("r4 = " + r4.ToString()); 
         Rational r5 = new Rational(0, 0);
         Console.WriteLine("r5 = " + r5.ToString());
    }
    catch (RationalException e)
    {
        Console.WriteLine(e.Message);
    }
}</pre></div><div  class="lecture_mark" id="mark_269"></div><p  id="id_270">Вот как выглядят результаты ее работы:</p><div  class="lecture_mark" id="mark_270"></div><p  align="left" id="id_271"><a name="image.1.1"></a><div><img src="01_01.jpg" alt="Создание и печать рациональных чисел" width="556" height="167"></div><br><b>Рис. 1.1.</b> 
        Создание и печать рациональных чисел</p><div  class="lecture_mark" id="mark_271"></div>

    

</div>
</div>
</div>

<script type="text/javascript">
on_load_lecture();
</script>

	</td>
	</tr>
	<tr><td height="8" colspan=2><img src="/img/empty.gif" width="1" height="8"></td></tr>

	<tr><td height="8" colspan=2><img src="/img/empty.gif" width="1" height="8"></td></tr>
	<tr><td colspan=2 align="center">

<a href="4.html" class="attention">Дальше &raquo;</b></a>

	</td></tr>
	<tr><td height="16" colspan=2><img src="/img/empty.gif" width="1" height="16"></td></tr>

	<tr><td height="2" colspan=2><img src="/img/empty.gif" width="1" height="2"></td></tr>
<tr>

<td width="75%" align=left><font class="rtitle">Страницы:</font>
<a class="rtitle" href="2.html">&laquo;</a> <font class="stitle">|</font>


<a class="rtitle" href="1.html">1</a>
<font class="stitle">|</font>


<a class="rtitle" href="2.html">2</a>
<font class="stitle">|</font>

<font class="rtitle">3</font>

<font class="stitle">|</font>


<a class="rtitle" href="4.html">4</a>
<font class="stitle">|</font>


<a class="rtitle" href="5.html">5</a>
<font class="stitle">|</font>


<a class="rtitle" href="test/">вопросы</a> <font class="stitle">|</font> 
<a class="rtitle" href="4.html"><b>&raquo;</b></a>
</td>
<td align=right>

<a href="print/" class="rtitle" target="_blank">для печати и PDA</a>


</td>

</tr>

	<tr><td height="8" colspan=2><img src="/img/empty.gif" width="1" height="8"></td></tr>
	<tr><td class="orang" height="1" colspan=2><img src="/img/empty.gif" width="1" height="1"></td></tr>
	</table>
	<!-- /content -->
</div>
</td>


<td width="6"><img src="/img/empty.gif" width="6"></td>
<td width="1" class="gray"><img src="/img/empty.gif"></td>
<td width="6"><img src="/img/empty.gif" width="6"></td>
<td width="160">
<table border="0" cellpadding="0" cellspacing="0" background="" width="100%">
<tr><td>
<div id="last_qa" style="display: none"><div class="last_qa">
<h1><a onClick="return open_last_qa(this);" href="http://ask.intuit.ru/">Вопросы и Ответы</a></h1>

Помогите ответить на вопрос: <script type="text/javascript">write_lastq()</script>

<div>
<a onClick="return open_last_qa(this);" href="http://ask.intuit.ru/">Задайте свой вопрос &raquo;</a>
</div>
</div>
</div>
<script type="text/javascript">
	if(lastq_exists) {
		var t = document.getElementById('last_qa');
		if(t) t.style.display = 'block';
	}
</script>
<div id="intuit_banner_01" style="display: none"></div>
</td></tr>

<tr><td align="center">&nbsp;</td></tr>
<tr>
<td align="center">
<div id="banner-160x600" style="display: none;"></div>

</td>
</tr>
<tr><td>&nbsp;</td></tr>

<tr><td align="center">
<div class="google160x600">
<script type="text/javascript"><!--
google_ad_client = "ca-pub-3229713645839679";
/* Intuit_160x600 */
google_ad_slot = "9981759856";
google_ad_width = 160;
google_ad_height = 600;
//-->
</script>
<script type="text/javascript"
src="http://pagead2.googlesyndication.com/pagead/show_ads.js">
</script>
</div>



</td></tr>
</table>
</td>



</table>


<!-- /bottom -->
<br>
<table width="100%" border="0" cellspacing="0" cellpadding="0" align="center" bgcolor="white">
<!---->
<!---->
<tr>
<td align="center" class="border">
    <table border="0" cellpadding="0" cellspacing="8" bgcolor="white" width="100%">
    <tr>
    <td width="1"><iframe id="errorHandling" src="/content-operation/error.xhtml" width="1" height="1" frameborder="0" scrolling="no"></iframe></td>
    <td align="center" width="100%" class="rtxt">
    Внимание! Если Вы увидите ошибку на нашем сайте, выделите её и нажмите Ctrl+Enter.
    </td>
    </tr>
    </table>
</td>
</tr>
<!---->

<tr>
<td align="center" class="border">
<script type="text/javascript">
//<![CDATA[
yandex_partner_id = 14351;
yandex_site_bg_color = 'FFFFFF';
yandex_site_charset = 'windows-1251';
yandex_ad_format = 'direct';
yandex_font_size = 1;
yandex_direct_type = 'horizontal';
yandex_direct_border_type = 'ad';
yandex_direct_limit = 4;
yandex_direct_header_bg_color = 'FEEAC7'; yandex_direct_bg_color = 'FFF9F0'; yandex_direct_border_color = 'FF9900'; yandex_direct_title_color = '0000CC'; yandex_direct_url_color = '006600'; yandex_direct_all_color = '0000CC'; yandex_direct_text_color = '000000'; yandex_direct_hover_color = '0066FF'; yandex_direct_favicon = true; document.write('<sc'+'ript type="text/javascript" src="http://an.yandex.ru/system/context.js"></sc'+'ript>');
//]]>
</script>

</td>
</tr>




<tr>
<td align="center" class="border">
    <table border="0" cellpadding="0" cellspacing="8" bgcolor="white" width="100%">
    <tr>
    <td>
<b>Нужна помощь?</b><br>
&#149; Забыли пароль? <a href="/user/remind/">Вам сюда...</a><br>
&#149; Есть вопрос? <a href="/help/askform.xhtml">Спрашивайте!</a>
    </td>
    <td>
<b>Вы можете:</b><br>
&#149; Изменить персональные <a href="/user/edit/">данные</a><br>
&#149; Изменить параметры <a href="/user/subscribe/">подписки</a>
    </td>
    <td>
<b>Интернет-магазин:</b><br>
&#149; Ваши заказы <a href="/shop/order/history.xhtml">здесь</a><br>
&#149; Ваш личный <a href="/user/account/">счет</a>
    </td>
    </tr>
    </table>
</td>
</tr>
<!---->
<tr>
<td align="center" class="copy" bgcolor="#ff9900">
    <a href="/courses.html" class="bot">Курсы</a> |
    <a href="/speciality/" class="bot">Учебные программы</a> |
    <a href="/shop/" class="bot">Учебники</a> | 
    <a href="http://ask.intuit.ru/" class="bot" target="_new">Вопросы и Ответы</a> | 
    <a href="/forum/" class="bot">Форум</a> |
    <a href="/news/" class="bot">Новости</a> | 
    <a href="/help/" class="bot">Помощь</a>
    <br><br>
    Телефон: +7 (499) 253-9312, 253-9313, факс: +7 (499) 253-9310, email: <a href="mailto:info@intuit.ru" class="bot">info@intuit.ru</a><br>
    &copy; <a href="http://www.intuit.ru/" class="bot">INTUIT.ru::Интернет-Университет Информационных Технологий - дистанционное образование, 2003-2011</a>
</td>
</tr>
</table>
<!-- /bottom -->


<center>
<table width=100% border=0 cellpadding=4>
<tr valign=top>
<td class="topnavi" align="left">
Проект <b><a href="http://www.osp.ru/" target="_blank">Издательства "Открытые Системы"</a></b>.<br>
Партнеры: <a href="http://www.rmt.ru/" target="_blank">РМ Телеком</a>, <a href="http://www.kraftway.ru/" target="_blank">KRAFTWAY COMPUTERS</a>.
</td>
<td align=right>
<!--begin of Rambler's Top100 code -->
<img src="http://counter.rambler.ru/top100.cnt?435517" alt="" width=1 height=1 border=0><a href="http://top100.rambler.ru/top100/"><img src="/img/rambler.gif" alt="Rambler's Top100" width=88 height=31 border=0></a>
<!--end of Top100 code-->
&nbsp;

<!--Rating@Mail.ru COUNTEr--><script language="JavaScript" type="text/javascript"><!--
d=document;var a='';a+=';r='+escape(d.referrer)
js=10//--></script><script language="JavaScript1.1" type="text/javascript"><!--
a+=';j='+navigator.javaEnabled()
js=11//--></script><script language="JavaScript1.2" type="text/javascript"><!--
s=screen;a+=';s='+s.width+'*'+s.height
a+=';d='+(s.colorDepth?s.colorDepth:s.pixelDepth)
js=12//--></script><script language="JavaScript1.3" type="text/javascript"><!--
js=13//--></script><script language="JavaScript" type="text/javascript"><!--
d.write('<a href="http://top.mail.ru/jump?from=496301"'+
' target=_top><img src="http://d2.c9.b7.a0.top.list.ru/counter'+
'?id=496301;t=75;js='+js+a+';rand='+Math.random()+
'" alt="Рейтинг@Mail.ru"'+' border=0 height=31 width=38/><\/a>')
if(11<js)d.write('<'+'!-- ')//--></script><noscript><a
target=_top href="http://top.mail.ru/jump?from=496301"><img
src="http://d2.c9.b7.a0.top.list.ru/counter?js=na;id=496301;t=75"
border=0 height=31 width=38
alt="Рейтинг@Mail.ru"/></a></noscript><script language="JavaScript" type="text/javascript"><!--
if(11<js)d.write('--'+'>')//--></script><!--/COUNTER-->

&nbsp;

<!-- SpyLOG -->
<script src="http://tools.spylog.ru/counter2.2.js" type="text/javascript" id="spylog_code" counter="459372" ></script>
<noscript>
<a href="http://u4593.72.spylog.com/cnt?cid=459372&f=3&p=0" target="_blank">
<img src="http://u4593.72.spylog.com/cnt?cid=459372&p=0&f=4" alt='SpyLOG' border='0' width=88 height=31 ></a> 
</noscript>
<!--/ SpyLOG -->
&nbsp;
<!--
<script language="javascript">
function getCookie(name) {
var prefix = name + "="
var cookieStartIndex = document.cookie.indexOf(prefix)
if (cookieStartIndex == -1)
        return null
var cookieEndIndex = document.cookie.indexOf(";", cookieStartIndex + prefix.length)
if (cookieEndIndex == -1)
        cookieEndIndex = document.cookie.length
return unescape(document.cookie.substring(cookieStartIndex + prefix.length, cookieEndIndex))
}
if (getCookie('adskip') == null && (getCookie('adcnt') == null || getCookie('adcnt') < 6)) {  window.open('/popup/1/','adpopup','width=300,height=320,location=no,scrollbars=no,resizable=yes,status=no,history=no,toolbar=no'); }
</script>
-->
&nbsp;

<!--LiveInternet counter--><script language="JavaScript"><!--
document.write('<a href="http://www.liveinternet.ru/click" '+
'target=_blank><img src="http://counter.yadro.ru/hit?t44.6;r'+
escape(document.referrer)+((typeof(screen)=='undefined')?'':
';s'+screen.width+'*'+screen.height+'*'+(screen.colorDepth?
screen.colorDepth:screen.pixelDepth))+';'+Math.random()+
'" border=0 width=31 height=31 alt="liveinternet.ru"></a>')//--></script><!--/LiveInternet-->

&nbsp;

<!-- bigmir)net TOP 100 --><a href="http://www.bigmir.net/" target=_blank onClick='img = new Image();img.src="http://www.bigmir.net/?cl=143122";' ><script language="javascript"><!--
bmQ='<img src=http://c.bigmir.net/?s143122&t8'
bmD=document
bmD.cookie="b=b"
if(bmD.cookie)bmQ+='&c1'
//--></script><script language="javascript1.2"><!-- 
bmS=screen;bmQ+='&d'+(bmS.colorDepth?bmS.colorDepth:bmS.pixelDepth)+"&r"+bmS.width;
//--></script><script language="javascript"><!--
bmF = bmD.referrer.slice(7);
((bmI=bmF.indexOf('/'))!=-1)?(bmF=bmF.substring(0,bmI)):(bmI=bmF.length);
if(bmF!=window.location.href.substring(7,7+bmI))bmQ+='&f'+escape(bmD.referrer);
bmD.write(bmQ+" border=0 width=88 height=31 alt='bigmir TOP100'>");
//--></script></a>


</td>
</tr></table>

</center>



<script type="text/javascript">

  var _gaq = _gaq || [];
  _gaq.push(['_setAccount', 'UA-17929409-1']);
  _gaq.push(['_trackPageview']);

  (function() {
    var ga = document.createElement('script'); ga.type =
'text/javascript'; ga.async = true;
    ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
  })();

</script>


<!-- GoodADVERT (SMART VIDEO in text) for http://www.intuit.ru -->
<script type="text/javascript"><!--
var _ga1_channel='199';
// -->
</script>
<script type="text/javascript" src="http://files.goodadvert.ru/ga_1.js" charset="utf-8"></script>
<!-- GoodADVERT -->

<!--BEGIN RichBanner http://www.intuit.ru (Video)-->
<script language="JavaScript">
<!--
var _rbn={};
_rbn.v={};
_rbn.v.inline_color = "#009900";
_rbn.v.inline_count_max=5;
_rbn.v.is_use_marked=0;
_rbn.v.autostart_video = 1;
_rbn.v.ad=[];
document.write('<scr' + 'ipt language="JavaScript" src="http://drive.richbanner.ru/code?pid=22632&gid=19&oin=1&rid=' + (Math.floor(Math.random() * 1000000000)) +'" charset="utf-8" type="text/JavaScript"></scr' + 'ipt>');
// -->
</script>
<script language="JavaScript" src="http://folder.richbanner.ru/rbn.js" charset="utf-8" type="text/JavaScript"></script>
<!--END RichBanner -->

<script type="text/javascript" src="/ssi/banner/intuit_is_bottom.js"></script>



</body>
</html>
