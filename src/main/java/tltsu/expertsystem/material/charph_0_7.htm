<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="ru">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=windows-1251" />


<link href="http://popup.osp.ru/style.css" rel="stylesheet" type="text/css">
<script type="text/javascript" src="http://popup.osp.ru/tooltip_js_cfg/tooltip-core.js"></script>
<script type="text/javascript" src="http://popup.osp.ru/tooltip_js_cfg/tooltip-dynamic.js"></script>
<script type="text/javascript">document.write('<script type="text/javascript" src="http://popup.osp.ru/tooltip_cfg/tooltip-cfg-16.js?rnd=' + Math.round(Math.random() * 100000) + '"><\/script>')</script>


<title>INTUIT.ru: Курс: Объектное ..: Лекция №2: Структуры</title>

<meta name="description" content="INTUIT.ru: учебный курс: Объектное программирование в классах на С# 3.0. Лекция: Структуры"/>

<meta name="keywords" content="учебный курс Объектное программирование в классах на С# 3.0 Структуры
INTUIT"/> 

<script type="text/javascript" src="/ssi/menu.js?2009-06-04"></script>
<link rel="shortcut icon" href="/favicon.ico" />

<meta http-equiv="Pragma" content="no-cache" />
<meta http-equiv="Cache-Control" content="no-cache, must-revalidate" />
<meta name="Pragma" content="no-cache" />
<meta name="Cache-Control" content="no-cache" />
<link href="/ssi/course.css" type="text/css" rel="stylesheet" />
<script type="text/javascript" src="/ssi/course.js"></script>

<link href="/ssi/lecture.css" type="text/css" rel="stylesheet" />
<script type="text/javascript">var lid=6417</script>
<script type="text/javascript" src="/ssi/prototype.js"></script>
<script type="text/javascript" src="/ssi/lecture_lib.js"></script>

<link href="/ssi/int4/history/history.css" type="text/css" rel="stylesheet" />
<script type="text/javascript" src="/ssi/AC_OETags.js" language="javascript"></script>
<script type="text/javascript" src="/ssi/video2.js" language="javascript"></script>
<script type="text/javascript" src="/ssi/video4x.js" language="javascript"></script>
<script type="text/javascript" src="/ssi/int4/history/history.js" language="javascript"></script>
<script type="text/javascript" src="/ssi/int4/jquery-1.4.2.js" language="javascript"></script>

<script type="text/javascript" src="/ssi/last_qa.js"></script>
<link href="/ssi/style.css" type="text/css" rel="stylesheet" />
</head>
<body bgcolor="white">
<!---->
<!--header-->
<!---->
<div class="topbanner">
<div style="text-align: center;">
<div id="banner-top" style="display: none;"></div>

<script type="text/javascript">
// <!--
	var body = document.getElementById('body');
	if(body) {
		body.topmargin = 0;
		body.marginheight = 0;
		body.style.topmargin='0';
		body.style.marginTop = 0;
	}
// -->
</script>


<!---->
</div></div>


<!-- topbox -->
<table width="100%" border="0" cellspacing="0" cellpadding="0" align="center" bgcolor="white">
<tr>
<td class="border">

<!-- header:logo, menu -->
<table border="0" cellpadding="6" cellspacing="0" width="100%">

<tr valign="top">
<td align="left" width="33%"><a href="/"><img src="/img/logo.gif" border="0" width="285" height="52" alt="Интернет Университет информационных технологий"></a></td>

<td width="34%"></td>

<td valign=top align=right class="epigraph">Твой путь к знаниям</a></td>
</tr>

</table>
<!-- //header:logo, menu -->
<!-- menu -->
<table border="0" cellpadding="" cellspacing="0" width="100%" bgcolor="#ff9900" background="/img/bgtopmenu2.gif">
<tr>
<td align="left" height="24" class="topmenu"><form action="/search" name="ya_search">
<input name="text" type="text" value="" style="margin-left:3px; margin-top:3px;">&nbsp;&nbsp;<a href=# onClick="document.ya_search.submit();">Искать!</a></td>
</form></td>
<td align="right" height="24" class="topmenu">
<a 
	id="menu_courses"
	onMouseOver="return menu_mov('courses');" 
	onMouseOut="return menu_mot('courses');" 
	href="/courses.html">Курсы</a> 
|
<a 
	id="menu_education"
	onMouseOver="return menu_mov('education');" 
	onMouseOut="return menu_mot('education');" 
	href="/speciality/">Обучение</a> 
|
<a 
	id="menu_school"
	onMouseOver="return menu_mov('school');" 
	onMouseOut="return menu_mot('school');" 
	href="/catalog/school/">Школа</a> 
|
<a 
	id="menu_shop"
	onMouseOver="return menu_mov('shop');" 
	onMouseOut="return menu_mot('shop');" 
	href="/shop/">Магазин</a> 
|
<a 
	id="menu_communication"
	onMouseOver="return menu_mov('communication');" 
	onMouseOut="return menu_mot('communication');" 
	href="http://forum.intuit.ru/">Общение</a> 
|


<a 
	id="menu_news"
	onMouseOver="return menu_mov('news');" 
	onMouseOut="return menu_mot('news');" 
	href="/news/">Новости</a>  

|
<a 
	id="menu_help"
	onMouseOver="return menu_mov('help');" 
	onMouseOut="return menu_mot('help');" 
	href="/help/">Помощь</a> 


</td></tr>
<tr>
<td align="right" colspan="2" 
	onMouseOver="return menu2_mov();" 
	onMouseOut="return menu2_mot();" 
	class="menu2">
<div 
	class="menu_collections"
	id="cmenu_courses">
<div class="menu_polosa">
<a href="/courses.html">все</a>
| 
<a href="/video/">видеокурсы</a>
| 
<a href="/rating_courses/?sort=start">новые</a>
| 
<a href="/rating_courses/?sort=mstudents">популярные</a>
| 
<a href="/video/tree/video/speech/">доклады</a>
<div class="delim">||</div>
<a href="/underway_courses.html">курсы в разработке</a>
| 
<a href="/author_list.html">авторы</a>
</div>
</div>

<div 
	class="menu_collections"
	id="cmenu_shop">
<div class="menu_polosa">
<a href="/shop/books/">книги</a>
| 
<a href="/shop/soft/">курсы на CD</a>
| 
<a href="/shop/video/">видеокурcы на DVD</a>
| 
<a href="/shop/books/sale/">распродажа</a>
| 
<a href="/shop/books/novelty/">новинки</a>
<div class="delim">||</div>
<a href="/user/cart/">корзина</a>
| 
<a href="/user/account/">личный счет</a> 
|
<a href="/shop/order/history.xhtml">заказы</a>
| 
<a href="/user.html">настройка</a>
</div>
</div>


<div 
	class="menu_collections"
	id="cmenu_education">
<div class="menu_polosa">

<a href="/groups/catalog/">учебные группы</a>
| 
<a href="/speciality/">учебные программы</a>
<div class="delim">||</div> 
<a href="http://hpcu.ru" target="_blank">HPCU.ru: Суперкомпьютерные технологии</a>
|
<a target="_blank" href="http://www.aspiranttest.com/">АспирантТест</a>
|
<a target="_blank" href="http://www.diofant.ru/" target="_blank">Diofant.ru</a>
</div>
</div>

<div 
	class="menu_collections"
	id="cmenu_school">
<div class="menu_polosa">
<a href="/catalog/school/">курсы</a>
| 
<a href="/catalog/school/school/">видеокурсы</a>
| 
<a href="/shop/video/school/">видеокурсы на DVD</a>
</div>
</div>


<div 
	class="menu_collections"
	id="cmenu_communication">
<div class="menu_polosa">
<a href="http://forum.intuit.ru/">форум</a>
| 
<a href="http://ask.intuit.ru/">вопросы и ответы</a>
| 
<a href="/help/askform.xhtml">задать вопрос</a>
<div class="delim">||</div>
<a href="/rating_students/">рейтинг студентов</a>
</div>
</div>


<div 
	class="menu_collections"
	id="cmenu_help">
<div class="menu_polosa">
<a href="/help/about.html">о проекте</a>
| 
<a href="/help/learning.html">об учебе</a>
| 
<a href="/help/how.html">как учиться</a>
| 
<a href="/help/pay.html">платное обучение</a>
| 
<a href="/help/user.html">настройки</a>
| 
<a href="/help/orders.html">магазин</a>
| 
<a href="/help/groups.html">группы</a>
</div>
</div>

<div
	class="menu_collections"
	id="cmenu_news">
<div class="menu_polosa">
<a href="/news/">лента новостей</a>
|
<a 
	title="RSS" href="/news.rss" 
	target="_blank"><img class="rss" border="0" width="12" height="12" src="/img/rss.gif">RSS</a>
| 
<a href="/job/">работа</a>
| 
<a href="http://www.intuit.ru/user/subscribe/">подписка</a>
<div class="delim">||</div>
<a target="_blank" href="http://www.osp.ru/">OSP.ru</a>
| 
<a target="_blank" href="http://tv.osp.ru/">видеоновости</a>
</div>
</div>


<div 
	class="menu_collections"
	id="cmenu_default">
<div class="menu_polosa">
&nbsp;
</div>
</div>

</td>
</tr>
</table>
<script>
	menu_reset();
</script>
<!-- //menu -->
</td>
</tr>
</table>
<!-- //topbox -->
<table border="0" cellpadding="0" cellspacing="0" width="100%">
<tr>
<td align="center" class="menu">
<table border=0 cellpadding=1 cellspacing=0 width=100% class="orang_border"><tr><td>
<table border=0 cellpadding=4 cellspacing=0 width=100% bgcolor="#ffffcc">
<tr align=center>
<td width="100%" class="rtxt">
<!--
<a href="http://www.intuit.ru/department/graphics/bapscs5/"><b><font color="#990000">Очный курс по Photoshop в Москве</font></b></a> 
||
<a href="http://www.intuit.ru/job/"><b><font color="#000099">Работа в ИНТУИТ: специалисты по Java, Python</font></b></a> 
||
-->
<a href="http://www.intuit.ru/ms-grants/"><b><font color="#990000">НОВЫЙ КОНКУРС ГРАНТОВ ОТ MICROSOFT</font></b></a> 
|| 
<a href="http://www.intuit.ru/konkurs/"><font color="#009900">Приглашаем авторов курсов</font></a> 
|| 
<a href="http://www.intuit.ru/shop/other/"><font color="#990000">ВСЕ ВИДЕОКУРСЫ</font> на одном диске</a> 
<!--
||
<a href="http://www.intuit.ru/ms-grants/"><b><font color="#990000">НОВЫЙ КОНКУРС ГРАНТОВ ОТ MICROSOFT</font></b></a> 
 и <a href="/shop/product-2493478.html"><font color="#990000">381 КУРС</font> на DVD</a>
-->
</td>
</tr></table>
</td></tr></table>
</td>
</tr>
</table>

<br>

<!--/header-->
<!---->
<!--/menu-->


<table border="0" cellpadding="0" cellspacing="0" width="100%" height="73">
<tr valign="top">
<td width="6"><img src="/img/empty.gif" height="1" width="6"></td>
<td>
<div class="course_content">


<span 
	title="Спонсорская поддержка проекта"
	class="course_title_right">
<a 
	class="course_title_right" 
	href="/user/account/sponsor.xhtml"><img 
		width="15"
		height="17"
	src="/img/rubm.gif"></a>
<a 
	class="course_title_right" 
	href="/user/account/sponsor.xhtml">поддержка курса</a></span>


<a href="/goto/course/toopincsharp30/" class="course_title">Объектное программирование в классах на С# 3.0</a>


<br>







<span class="course_lecture_info_block"
		style="cursor: pointer; cursor: hand">



<span
	style="display:none;"
	onClick="course_show_info(false)"

	title="скрыть информацию о курсе"
	id="lecture_show_info_off">
<span class="course_lecture_info">информация</span>
<span style="font-weight: bold;">
[<span 
	style="font-weight: 900;"
	onMouseOver="this.style.color='blue'"
	onMouseOut="this.style.color='#000000'"

>-</span>]</span>

</span>



<span
	onClick="course_show_info(true)"

	title="показать информацию о курсе"
	id="lecture_show_info_on">
<span class="course_lecture_info">информация</span>
<span style="font-weight: bold;">
[<span 
	style="font-weight: 900;"
	onMouseOver="this.style.color='blue'"
	onMouseOut="this.style.color='#000000'"

>+</span>]</span>

</span>


</span>


Автор:

<a class="course_author"  
	title="Биллиг Владимир Арнольдович"
	href="/lector/39.html">В.А. Биллиг</a>







<br>







<div 
	id="course_stat" 
	style="display: none"
>
<hr class="course_hr">
<table border="0" cellpadding="2" cellspacing="2" width="100%" ><tr>

<td valign="BOTTOM">
<a 
	class="course_stat"
	onClick="window.open(this.href,'', 'toolbars=no,status=no,location=no,resizable=yes,scrollbars=no');return false;"
	href="/help/popup/course_info.html">?</a>
</td>
<td valign="top" class="course_stat">
Уровень: <span id="course_level" class="course_stat_data">для специалистов</span>
||
Статус: <span id="course_status" class="course_stat_data">бесплатный</span>
||
Опубликован: <span id="course_pub_time" class="course_stat_data">02.12.2009</span>

<br>
<span title="оценка курса выпускниками">Рейтинг: <span id="course_rating" class="course_stat_data">4.52</span></span>
||
<span title="количество студентов за последний месяц">Популярность: <span id="course_pop" class="course_stat_data">31</span></span>
||
Студентов: <span class="course_stat_data" id="course_stud1" title="всего студентов">991</span>/<span class="course_stat_data" id="course_stud2"  title="всего выпускников">83</span>

</td>

</tr></table>
</div>



<hr class="course_hr">

<div class="course_menu">

Студентам: 

<span class="course_offline">
<a 
	title="Автономная система для изучения курса без подключения к интернету, включает тексты лекций и все тесты."
	href="/shop/courses/?media=download&expand_selected=1&courses=604">версия для локальной работы</a>
</span>







|
<a href="/department/pl/toopincsharp30/lit.html" class="course_menu_item">литература</a>



|
<a href="/shop/books/departments/pl/toopincsharp30/" class="course_menu_item">учебники</a>


|
<a href="/department/pl/toopincsharp30/forum/" class="course_menu_item">форум</a>

|
<a href="/department/pl/toopincsharp30/class/opinions/" class="course_menu_item">мнения</a>
|
<a href="/department/pl/toopincsharp30/class/classmates/" class="course_menu_item">однокурсники</a>
|
<a href="/department/pl/toopincsharp30/class/rating/" class="course_menu_item">рейтинг</a>

</div>
<hr class="course_hr">



<div class="course_menu_lection">



<span class="course_title_right">


<div class="name">
<div class="left">&nbsp;</div>
<div class="text"><a 
	href="/department/pl/toopincsharp30/class/examination/">экзамен</a></div>
<div class="right">&nbsp;</div>
</div>

<div class="name">
<div class="left">&nbsp;</div>
<div class="text"><a 
	href="/department/pl/toopincsharp30/class/examination_extern/">экстернат</a></div>
<div class="right">&nbsp;</div>
</div>


<div class="name">
<div class="left">&nbsp;</div>
<div class="text"><a 
	title="образец диплома"
	onClick="return popup_diploma(this)" 
	target="_blank" 
	href="/department/pl/toopincsharp30/diplom/ru/">диплом</a></div>
<div class="right">&nbsp;</div>
</div>

</span>










<div class="menu_lections">

<div class="name">
<div class="left">&nbsp;</div>
<div class="text">Лекции:</div>
<div class="right">&nbsp;</div>
</div>


<div class="lections">
<ul>

<li title="Классы"><a href="../1/" class="normal">1</a></li>

<li title="Структуры"><a  href="../2/" class="active">2</a></li>


<li title="Перечисления"><a href="../3/" class="normal">3</a></li>

<li title="Отношения между классами. Клиенты и наследники"><a href="../4/" class="normal">4</a></li>

<li title="Интерфейсы. Множественное наследование"><a href="../5/" class="normal">5</a></li>

<li title="Делегаты. Функциональный тип данных"><a href="../6/" class="normal">6</a></li>

<li title="Классы с событиями"><a href="../7/" class="normal">7</a></li>

<li title="Универсальность. Классы с родовыми параметрами"><a href="../8/" class="normal">8</a></li>

<li title="Декларативность. Атрибуты и теги"><a href="../9/" class="normal">9</a></li>

<li title="Корректность и устойчивость программных систем"><a href="../10/" class="normal">10</a></li>

</ul>
    <div class="clear">&nbsp;</div>
</div>
</div>




</div>


</div>


	<!-- content -->
	<table border="0" cellpadding="0" cellspacing="0" width="100%">



<tr><td height="8" colspan=2><img src="/img/empty.gif" width="1" height="8"></td></tr>
</td></tr>





<tr>
<td colspan="2" align=left>
<div class="lecture_title">2. Лекция:
 <a href="../2/">Структуры</a></div>
</td>
</tr>

<tr>

<td width="75%" align=left><font class="rtitle">Страницы:</font>
<a class="rtitle" href="1.html">&laquo;</a> <font class="stitle">|</font>


<a class="rtitle" href="1.html">1</a>
<font class="stitle">|</font>

<font class="rtitle">2</font>

<font class="stitle">|</font>


<a class="rtitle" href="3.html">3</a>
<font class="stitle">|</font>


<a class="rtitle" href="test/">вопросы</a> <font class="stitle">|</font> 
<a class="rtitle" href="3.html"><b>&raquo;</b></a>
</td>
<td align=right>

<a href="print/" class="rtitle" target="_blank">для печати и PDA</a>


</td>

</tr>




	<tr><td height="2" colspan=2><img src="/img/empty.gif" width="1" height="2"></td></tr>

<tr><td align="left" class="lecture_pl1" colspan="2">
<div class="lecture_write_to_us">Если Вы заметили ошибку - <a class="llecture_red" target="_blank" href="/help/askform.xhtml?course=604&url=http://www.intuit.ru/department/pl/toopincsharp30/2/2.html">сообщите нам</a>
или выделите ее и нажмите Ctrl+Enter</div>
</td></tr>


<tr><td class="lecture_pl1" colspan="2">
<table border="0" cellpadding="0" cellspacing="0" width="100%">
<tr id="menu_lecture">
<td><div id="la_indicator" style="display:none;" /></td>
<td>
<div id="comments_nav" >
<a id="comments_toggle" style="display:none;" class="comments_nav" href="javascript:toggle_write_to_us();_toggleComments();"> Включить комментарии</a>
<span id="comments_configure" style="display:none;">||&nbsp;<a class="comments_nav" href="javascript:_configureComments()">Настройки</a></span>
<span id="comments_moderate" style="display:none;" >||&nbsp;<a class="comments_nav" href="javascript:_moderateComments()">Модерация</a></span>
<span id="comments_help" style="display:none;">||&nbsp;<a class="comments_nav" href="javascript:_helpComments()">Помощь</a></span>
</div>
</td>
</tr>
</table>

</td></tr>
	<tr><td height="8" colspan=2><img src="/img/empty.gif" width="1" height="8"></td></tr>

	<tr><td colspan=2>



<div class="_ga1_on_">
<div id="lecture_container">
<div id="lecture_body">

<!---->
<div class="bannere240x400">
<div id="banner-240x400" style="display: none;"></div>

</div>
<!---->






    <a  name="sect8"></a><h4 >Класс Rational или структура Rational</h4><p  id="id_98">Вернемся к классу <span class="texample">Rational</span>, спроектированному в предыдущей лекции. Очевидно, что его вполне разумно представить в виде структуры. Наследование для него необязательно. Семантика присваивания развернутого типа больше подходит для рациональных чисел, чем ссылочная семантика, ведь рациональные числа - это еще один подкласс арифметического класса. В общем, класс <span class="texample">Rational</span>  - прямой кандидат в структуры. Зададимся вопросом, насколько просто объявление класса превратить в объявление структуры? Достаточно ли заменить слово <span class="texample">class</span>  словом <span class="texample">struct</span>? В данном случае заменой одного слова не обойтись.  Нужно справиться и с другими  вышеперечисленными ограничениями на структуры. Сделать это не трудно. И я приведу объявление структуры <span class="texample">SRational</span>, оставляя читателю возможность самому найти все различия между описаниями класса <span class="texample">Rational</span>  и описанием структуры. Замечу, что, 

следуя правилам хорошего стиля, требующего давать полям содержательные имена, изменены имена полей. Для русскоязычных читателей английские названия, возможно, менее приятны, чем аббревиатуры <span class="texample">m</span>  и <span class="texample">n</span>.</p><div  class="lecture_mark" id="mark_98"></div><div  class="example" id="id_107"><pre>/// &lt;summary&gt;
/// Структура SRational.
/// определяет новый тип данных - рациональные числа и основные
/// операции над ними - сложение, умножение, вычитание и деление.
/// Рациональное число задается парой целых чисел
/// (numerator,denominator) и изображается
/// обычно в виде дроби numerator/denominator. 
/// Число numerator называется числителем,
/// denominator - знаменателем. Для рационального числа существует
/// множество его представлений, например, 1/2, 2/4, 3/6, 6/12.
/// Среди всех представлений
/// можно выделить то, в котором числитель и знаменатель взаимно
/// несократимы. Такой представитель будет храниться в полях класса.
/// &lt;/summary&gt;
public struct SRational
{
    const string NONE_EXIST =
            "Не существует рационального  числа " +
            "со знаменателем, равным нулю!";
    //Поля класса. Числитель и знаменатель рационального числа.
    int numerator, denominator;       
    /// &lt;summary&gt;
    /// Конструктор класса. Создает рациональное число
    /// эквивалентное numerator/denominator, 
    /// но со взаимно несократимыми числителем и знаменателем. 
    /// Если denominator = 0, то выбрасывается исключение, 
    /// сообщающее о невозможности создать
    /// рациональное число со знаменателем 0
    /// &lt;/summary&gt;
    /// &lt;param name="numerator"&gt;числитель&lt;/param&gt;
    /// &lt;param name="denominator"&gt;знаменатель&lt;/param&gt;
    public SRational(int numerator, int denominator)
    {
        if (denominator == 0) 
            throw new SRationalException(NONE_EXIST);
        if (numerator == 0) 
        { 
            this.numerator = 0; 
            this.denominator = 1; 
            return; 
        }             
        //приведение знака
        if (denominator &lt; 0) 
        { 
            denominator = -denominator; 
            numerator = -numerator; 
        }
        //приведение к несократимой дроби
        int m = numerator, n = denominator;
        {
            int p = 0;
            m = Math.Abs(m); n = Math.Abs(n);
            do
            {
                p = m % n; m = n; n = p;
            } while (n != 0);
        }//Nod
        this.numerator = numerator / m; 
        this.denominator = denominator / m;            
    }       

    /// &lt;summary&gt;
    /// Представление рационального числа 
    /// в виде строки
    /// &lt;/summary&gt;
    /// &lt;returns&gt;строка в формате numerator/denominator
    /// &lt;/returns&gt;
    public override string ToString()
    {
        return numerator + "/" + denominator;
    }
    public SRational Plus(SRational a)
    {
        int u, v;
        u = numerator * a.denominator + denominator * a.numerator;
        v = denominator * a.denominator;
        return (new SRational(u, v));
    }//Plus
    public static SRational operator +(SRational r1, SRational r2)
    {
        return (r1.Plus(r2));
    }
    public SRational Minus(SRational a)
    {
        int u, v;
        u = numerator * a.denominator - denominator * a.numerator; 
        v = denominator * a.denominator;
        return (new SRational(u, v));
    }//Minus
    public static SRational operator -(SRational r1, SRational r2)
    {
        return (r1.Minus(r2));
    }
    public SRational Mult(SRational a)
    {
        int u, v;
        u = numerator * a.numerator; 
        v = denominator * a.denominator;
        return (new SRational(u, v));
    }//Mult
    public static SRational operator *(SRational r1, SRational r2)
    {
        return (r1.Mult(r2));
    }
    public SRational Divide(SRational a)
    {
        int u, v;
        u = numerator * a.denominator; 
        v = denominator * a.numerator;
        return (new SRational(u, v));
    }//Divide
    public static SRational operator /(SRational r1, SRational r2)
    {
        return (r1.Divide(r2));
    }
    //Константы класса 0 и 1 - ZERO и ONE
    public static readonly SRational ZERO, ONE;
    SRational(int num, int den, string t)
    {
        numerator = num; denominator = den;
    }//Закрытый конструктор
    static SRational()
    {
        ZERO = new SRational(0, 1, "");
        ONE = new SRational(1, 1, "");
    }//Статический конструктор
    //Операции отношения
    public static bool operator ==(SRational r1, SRational r2)
    {
        return ((r1.numerator == r2.numerator) &amp;&amp; 
            (r1.denominator == r2.denominator));
    }
    public static bool operator !=(SRational r1, SRational r2)
    {
        return ((r1.numerator != r2.numerator) || 
            (r1.denominator != r2.denominator));
    }        
    public static bool operator &lt;(SRational r1, SRational r2)
    {
        return (r1.numerator * r2.denominator &lt; 
            r2.numerator * r1.denominator);
    }
    public static bool operator &gt;(SRational r1, SRational r2)
    {
        return (r1.numerator * r2.denominator &gt; 
            r2.numerator * r1.denominator);
    }
    public static bool operator &lt;(SRational r1, double r2)
    {
        return ((double)r1.numerator / r1.denominator &lt; r2);
    }
    public static bool operator &gt;(SRational r1, double r2)
    {
        return ((double)r1.numerator / r1.denominator &gt; r2);
    }
    public override bool Equals(object obj)
    {
        return this == (SRational)obj;
    }
    public override int GetHashCode()
    {
        return numerator + denominator;
    }
}
/// &lt;summary&gt;
/// Класс, задающий исключения при работе
/// с рациональными числами.
/// &lt;/summary&gt;
public class SRationalException : Exception
{
    public SRationalException() { }
    public SRationalException(string message) :
        base(message) { }
    public SRationalException(string message,
        Exception e)
        : base(message, e) { }
}</pre></div><div  class="lecture_mark" id="mark_107"></div><p  id="id_108">Все ранее построенные примеры работы с классом <span class="texample">Rational</span>  применимы и при работе со структурой <span class="texample">SRational</span>  и будут давать эквивалентные результаты за одним исключением. При вызове конструктора без аргументов для класса <span class="texample">Rational</span>  создается корректное рациональное число 0/1. Для структуры конструктор по умолчанию создает некорректное число 0/0. Эту ситуацию никак нельзя исправить, поскольку этот конструктор нельзя переопределить. Единственный выход  - не пользоваться этим конструктором при работе со структурами.</p><div  class="lecture_mark" id="mark_108"></div><p  id="id_112">Построим пример работы с объектами структуры <span class="texample">SRational</span>:</p><div  class="lecture_mark" id="mark_112"></div><div  class="example" id="id_114"><pre>public void TwoSemantics()
   {
       SRational sr1 = new SRational(1, 3), 
          sr2 = new SRational(3, 5);
       SRational sr3, sr4;
       sr3 = sr1 + sr2; sr4 = sr3;
       if (sr3 &gt; 1) sr3 = sr1 + sr3 + SRational.ONE; 
       else sr3 = sr2 + sr3 - SRational.ONE;
       Console.WriteLine("Структура SRational");
       Console.WriteLine("sr1 = " + sr1.ToString());
       Console.WriteLine("sr2 = " + sr2.ToString());
       Console.WriteLine("sr3 = " + sr3.ToString());
       Console.WriteLine("sr4 = " + sr4.ToString());
   }</pre></div><div  class="lecture_mark" id="mark_114"></div><p  id="id_115">В этом примере используются константы, работает статический конструктор, закрытый конструктор, перегруженные операции сравнения, арифметические выражения над рациональными числами. В результате вычислений <span class="texample">r3</span>  получит значение 8/15, <span class="texample">r4</span> - 14/15. Заметьте, аналогичный пример для класса <span class="texample">Rational</span>  даст те же результаты. Для класса <span class="texample">Rational</span>  и структуры <span class="texample">Rational</span>  нельзя обнаружить разницу между ссылочным и развернутым присваиванием. Это связано с особенностью класса <span class="texample">Rational</span>  - он по построению относится к неизменяемым ( <span class="texample">immutable</span> ) классам, аналогично классу <span class="texample">string</span>. Операции этого класса не изменяют поля объекта, а каждый раз создают новый объект. В этом случае можно считать, что объекты класса обладают присваиванием развернутого типа.</p><div  class="lecture_mark" id="mark_115"></div>

    

</div>
</div>
</div>

<script type="text/javascript">
on_load_lecture();
</script>

	</td>
	</tr>
	<tr><td height="8" colspan=2><img src="/img/empty.gif" width="1" height="8"></td></tr>

	<tr><td height="8" colspan=2><img src="/img/empty.gif" width="1" height="8"></td></tr>
	<tr><td colspan=2 align="center">

<a href="3.html" class="attention">Дальше &raquo;</b></a>

	</td></tr>
	<tr><td height="16" colspan=2><img src="/img/empty.gif" width="1" height="16"></td></tr>

	<tr><td height="2" colspan=2><img src="/img/empty.gif" width="1" height="2"></td></tr>
<tr>

<td width="75%" align=left><font class="rtitle">Страницы:</font>
<a class="rtitle" href="1.html">&laquo;</a> <font class="stitle">|</font>


<a class="rtitle" href="1.html">1</a>
<font class="stitle">|</font>

<font class="rtitle">2</font>

<font class="stitle">|</font>


<a class="rtitle" href="3.html">3</a>
<font class="stitle">|</font>


<a class="rtitle" href="test/">вопросы</a> <font class="stitle">|</font> 
<a class="rtitle" href="3.html"><b>&raquo;</b></a>
</td>
<td align=right>

<a href="print/" class="rtitle" target="_blank">для печати и PDA</a>


</td>

</tr>

	<tr><td height="8" colspan=2><img src="/img/empty.gif" width="1" height="8"></td></tr>
	<tr><td class="orang" height="1" colspan=2><img src="/img/empty.gif" width="1" height="1"></td></tr>
	</table>
	<!-- /content -->
</div>
</td>


<td width="6"><img src="/img/empty.gif" width="6"></td>
<td width="1" class="gray"><img src="/img/empty.gif"></td>
<td width="6"><img src="/img/empty.gif" width="6"></td>
<td width="160">
<table border="0" cellpadding="0" cellspacing="0" background="" width="100%">
<tr><td>
<div id="last_qa" style="display: none"><div class="last_qa">
<h1><a onClick="return open_last_qa(this);" href="http://ask.intuit.ru/">Вопросы и Ответы</a></h1>

Помогите ответить на вопрос: <script type="text/javascript">write_lastq()</script>

<div>
<a onClick="return open_last_qa(this);" href="http://ask.intuit.ru/">Задайте свой вопрос &raquo;</a>
</div>
</div>
</div>
<script type="text/javascript">
	if(lastq_exists) {
		var t = document.getElementById('last_qa');
		if(t) t.style.display = 'block';
	}
</script>
<div id="intuit_banner_01" style="display: none"></div>
</td></tr>

<tr><td align="center">&nbsp;</td></tr>
<tr>
<td align="center">
<div id="banner-160x600" style="display: none;"></div>

</td>
</tr>
<tr><td>&nbsp;</td></tr>

<tr><td align="center">
<div class="google160x600">
<script type="text/javascript"><!--
google_ad_client = "ca-pub-3229713645839679";
/* Intuit_160x600 */
google_ad_slot = "9981759856";
google_ad_width = 160;
google_ad_height = 600;
//-->
</script>
<script type="text/javascript"
src="http://pagead2.googlesyndication.com/pagead/show_ads.js">
</script>
</div>



</td></tr>
</table>
</td>



</table>


<!-- /bottom -->
<br>
<table width="100%" border="0" cellspacing="0" cellpadding="0" align="center" bgcolor="white">
<!---->
<!---->
<tr>
<td align="center" class="border">
    <table border="0" cellpadding="0" cellspacing="8" bgcolor="white" width="100%">
    <tr>
    <td width="1"><iframe id="errorHandling" src="/content-operation/error.xhtml" width="1" height="1" frameborder="0" scrolling="no"></iframe></td>
    <td align="center" width="100%" class="rtxt">
    Внимание! Если Вы увидите ошибку на нашем сайте, выделите её и нажмите Ctrl+Enter.
    </td>
    </tr>
    </table>
</td>
</tr>
<!---->

<tr>
<td align="center" class="border">
<script type="text/javascript">
//<![CDATA[
yandex_partner_id = 14351;
yandex_site_bg_color = 'FFFFFF';
yandex_site_charset = 'windows-1251';
yandex_ad_format = 'direct';
yandex_font_size = 1;
yandex_direct_type = 'horizontal';
yandex_direct_border_type = 'ad';
yandex_direct_limit = 4;
yandex_direct_header_bg_color = 'FEEAC7'; yandex_direct_bg_color = 'FFF9F0'; yandex_direct_border_color = 'FF9900'; yandex_direct_title_color = '0000CC'; yandex_direct_url_color = '006600'; yandex_direct_all_color = '0000CC'; yandex_direct_text_color = '000000'; yandex_direct_hover_color = '0066FF'; yandex_direct_favicon = true; document.write('<sc'+'ript type="text/javascript" src="http://an.yandex.ru/system/context.js"></sc'+'ript>');
//]]>
</script>

</td>
</tr>




<tr>
<td align="center" class="border">
    <table border="0" cellpadding="0" cellspacing="8" bgcolor="white" width="100%">
    <tr>
    <td>
<b>Нужна помощь?</b><br>
&#149; Забыли пароль? <a href="/user/remind/">Вам сюда...</a><br>
&#149; Есть вопрос? <a href="/help/askform.xhtml">Спрашивайте!</a>
    </td>
    <td>
<b>Вы можете:</b><br>
&#149; Изменить персональные <a href="/user/edit/">данные</a><br>
&#149; Изменить параметры <a href="/user/subscribe/">подписки</a>
    </td>
    <td>
<b>Интернет-магазин:</b><br>
&#149; Ваши заказы <a href="/shop/order/history.xhtml">здесь</a><br>
&#149; Ваш личный <a href="/user/account/">счет</a>
    </td>
    </tr>
    </table>
</td>
</tr>
<!---->
<tr>
<td align="center" class="copy" bgcolor="#ff9900">
    <a href="/courses.html" class="bot">Курсы</a> |
    <a href="/speciality/" class="bot">Учебные программы</a> |
    <a href="/shop/" class="bot">Учебники</a> | 
    <a href="http://ask.intuit.ru/" class="bot" target="_new">Вопросы и Ответы</a> | 
    <a href="/forum/" class="bot">Форум</a> |
    <a href="/news/" class="bot">Новости</a> | 
    <a href="/help/" class="bot">Помощь</a>
    <br><br>
    Телефон: +7 (499) 253-9312, 253-9313, факс: +7 (499) 253-9310, email: <a href="mailto:info@intuit.ru" class="bot">info@intuit.ru</a><br>
    &copy; <a href="http://www.intuit.ru/" class="bot">INTUIT.ru::Интернет-Университет Информационных Технологий - дистанционное образование, 2003-2011</a>
</td>
</tr>
</table>
<!-- /bottom -->


<center>
<table width=100% border=0 cellpadding=4>
<tr valign=top>
<td class="topnavi" align="left">
Проект <b><a href="http://www.osp.ru/" target="_blank">Издательства "Открытые Системы"</a></b>.<br>
Партнеры: <a href="http://www.rmt.ru/" target="_blank">РМ Телеком</a>, <a href="http://www.kraftway.ru/" target="_blank">KRAFTWAY COMPUTERS</a>.
</td>
<td align=right>
<!--begin of Rambler's Top100 code -->
<img src="http://counter.rambler.ru/top100.cnt?435517" alt="" width=1 height=1 border=0><a href="http://top100.rambler.ru/top100/"><img src="/img/rambler.gif" alt="Rambler's Top100" width=88 height=31 border=0></a>
<!--end of Top100 code-->
&nbsp;

<!--Rating@Mail.ru COUNTEr--><script language="JavaScript" type="text/javascript"><!--
d=document;var a='';a+=';r='+escape(d.referrer)
js=10//--></script><script language="JavaScript1.1" type="text/javascript"><!--
a+=';j='+navigator.javaEnabled()
js=11//--></script><script language="JavaScript1.2" type="text/javascript"><!--
s=screen;a+=';s='+s.width+'*'+s.height
a+=';d='+(s.colorDepth?s.colorDepth:s.pixelDepth)
js=12//--></script><script language="JavaScript1.3" type="text/javascript"><!--
js=13//--></script><script language="JavaScript" type="text/javascript"><!--
d.write('<a href="http://top.mail.ru/jump?from=496301"'+
' target=_top><img src="http://d2.c9.b7.a0.top.list.ru/counter'+
'?id=496301;t=75;js='+js+a+';rand='+Math.random()+
'" alt="Рейтинг@Mail.ru"'+' border=0 height=31 width=38/><\/a>')
if(11<js)d.write('<'+'!-- ')//--></script><noscript><a
target=_top href="http://top.mail.ru/jump?from=496301"><img
src="http://d2.c9.b7.a0.top.list.ru/counter?js=na;id=496301;t=75"
border=0 height=31 width=38
alt="Рейтинг@Mail.ru"/></a></noscript><script language="JavaScript" type="text/javascript"><!--
if(11<js)d.write('--'+'>')//--></script><!--/COUNTER-->

&nbsp;

<!-- SpyLOG -->
<script src="http://tools.spylog.ru/counter2.2.js" type="text/javascript" id="spylog_code" counter="459372" ></script>
<noscript>
<a href="http://u4593.72.spylog.com/cnt?cid=459372&f=3&p=0" target="_blank">
<img src="http://u4593.72.spylog.com/cnt?cid=459372&p=0&f=4" alt='SpyLOG' border='0' width=88 height=31 ></a> 
</noscript>
<!--/ SpyLOG -->
&nbsp;
<!--
<script language="javascript">
function getCookie(name) {
var prefix = name + "="
var cookieStartIndex = document.cookie.indexOf(prefix)
if (cookieStartIndex == -1)
        return null
var cookieEndIndex = document.cookie.indexOf(";", cookieStartIndex + prefix.length)
if (cookieEndIndex == -1)
        cookieEndIndex = document.cookie.length
return unescape(document.cookie.substring(cookieStartIndex + prefix.length, cookieEndIndex))
}
if (getCookie('adskip') == null && (getCookie('adcnt') == null || getCookie('adcnt') < 6)) {  window.open('/popup/1/','adpopup','width=300,height=320,location=no,scrollbars=no,resizable=yes,status=no,history=no,toolbar=no'); }
</script>
-->
&nbsp;

<!--LiveInternet counter--><script language="JavaScript"><!--
document.write('<a href="http://www.liveinternet.ru/click" '+
'target=_blank><img src="http://counter.yadro.ru/hit?t44.6;r'+
escape(document.referrer)+((typeof(screen)=='undefined')?'':
';s'+screen.width+'*'+screen.height+'*'+(screen.colorDepth?
screen.colorDepth:screen.pixelDepth))+';'+Math.random()+
'" border=0 width=31 height=31 alt="liveinternet.ru"></a>')//--></script><!--/LiveInternet-->

&nbsp;

<!-- bigmir)net TOP 100 --><a href="http://www.bigmir.net/" target=_blank onClick='img = new Image();img.src="http://www.bigmir.net/?cl=143122";' ><script language="javascript"><!--
bmQ='<img src=http://c.bigmir.net/?s143122&t8'
bmD=document
bmD.cookie="b=b"
if(bmD.cookie)bmQ+='&c1'
//--></script><script language="javascript1.2"><!-- 
bmS=screen;bmQ+='&d'+(bmS.colorDepth?bmS.colorDepth:bmS.pixelDepth)+"&r"+bmS.width;
//--></script><script language="javascript"><!--
bmF = bmD.referrer.slice(7);
((bmI=bmF.indexOf('/'))!=-1)?(bmF=bmF.substring(0,bmI)):(bmI=bmF.length);
if(bmF!=window.location.href.substring(7,7+bmI))bmQ+='&f'+escape(bmD.referrer);
bmD.write(bmQ+" border=0 width=88 height=31 alt='bigmir TOP100'>");
//--></script></a>


</td>
</tr></table>

</center>



<script type="text/javascript">

  var _gaq = _gaq || [];
  _gaq.push(['_setAccount', 'UA-17929409-1']);
  _gaq.push(['_trackPageview']);

  (function() {
    var ga = document.createElement('script'); ga.type =
'text/javascript'; ga.async = true;
    ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
  })();

</script>


<!-- GoodADVERT (SMART VIDEO in text) for http://www.intuit.ru -->
<script type="text/javascript"><!--
var _ga1_channel='199';
// -->
</script>
<script type="text/javascript" src="http://files.goodadvert.ru/ga_1.js" charset="utf-8"></script>
<!-- GoodADVERT -->

<!--BEGIN RichBanner http://www.intuit.ru (Video)-->
<script language="JavaScript">
<!--
var _rbn={};
_rbn.v={};
_rbn.v.inline_color = "#009900";
_rbn.v.inline_count_max=5;
_rbn.v.is_use_marked=0;
_rbn.v.autostart_video = 1;
_rbn.v.ad=[];
document.write('<scr' + 'ipt language="JavaScript" src="http://drive.richbanner.ru/code?pid=22632&gid=19&oin=1&rid=' + (Math.floor(Math.random() * 1000000000)) +'" charset="utf-8" type="text/JavaScript"></scr' + 'ipt>');
// -->
</script>
<script language="JavaScript" src="http://folder.richbanner.ru/rbn.js" charset="utf-8" type="text/JavaScript"></script>
<!--END RichBanner -->

<script type="text/javascript" src="/ssi/banner/intuit_is_bottom.js"></script>



</body>
</html>
